var MSG_IT={rock:"Sasso",scissors:"Forbici",paper:"Carta",lizard:"Lizard",spock:"Spock","menu.rules":"Descrizione","menu.play":"Gioca","rule.desc":'Sasso-carta-forbice-lucertola-Spock (Rock-paper-scissors-lizard-Spock) è una variante fantasiosa della "Morra Cinese" inventata da due studenti americani, Sam Kass e Karen Bryla, e resa successivamente famosa da un episodio del telefilm The Big Bang Theory.',"rule.vs.LS":"Lizard avvelena Spock","rule.vs.LP":"Lizard mangia la Carta","rule.vs.PS":"La Carta smentisce Spock","rule.vs.PR":"La Carta avvolge il Sasso","rule.vs.RS":"Il Sasso rompe le Forbici","rule.vs.RL":"Il Sasso schiaccia Lizard","rule.vs.SP":"Le Forbici tagliano la Carta","rule.vs.SL":"Le Forbici decapitano Lizard","rule.vs.SS":"Spock rompe le Forbici","rule.vs.SR":"Spock vaporizza il Sasso",tie:"Pareggio con {{sign}}","game.player":"Giocatore","game.pc":"CPU","game.win":"Vittorie","game.tie":"Pareggi","game.lost":"Sconfitte"},MSG_EN={rock:"Rock",scissors:"Scissors",paper:"Paper",lizard:"Lizard",spock:"Spock","menu.rules":"Description","menu.play":"Play","rule.desc":"Rock-paper-scissors-lizard-Spock) è una variante fantasiosa inventata da due studenti americani, Sam Kass e Karen Bryla, e resa successivamente famosa da un episodio del telefilm The Big Bang Theory.","rule.vs.LS":"Lizard poisons Spock","rule.vs.LP":"Lizard eats Paper","rule.vs.PS":"Paper disproves Spock","rule.vs.PR":"Paper covers Rock","rule.vs.RS":"Rock crushes Scissors","rule.vs.RL":"Rock crushes Lizard","rule.vs.SP":"Scissors cuts Paper","rule.vs.SL":"Scissors decapitates Lizard","rule.vs.SS":"Spock smashes Scrissors","rule.vs.SR":"Spock vaporizes Rock",tie:"Tie using {{sign}}","game.player":"Player","game.pc":"CPU","game.win":"Wins","game.tie":"Tie","game.lost":"Lost"};!function(e){var s=e.module("rspls",["ngAnimate","ngTouch","ngRoute","ngAria","pascalprecht.translate"]);s.config(["$routeProvider","$translateProvider",function(e,s){e.when("/rules",{templateUrl:"templates/rules.html",controller:"RulesController"}).when("/game",{templateUrl:"templates/game.html",controller:"GameController"}).otherwise({redirectTo:"/rules"}),s.translations("it",MSG_IT).translations("en",MSG_EN).determinePreferredLanguage().fallbackLanguage("en")}]),s.constant("version","1.0.0"),s.constant("rules",{signs:["rock","scissors","paper","lizard","spock"],wins:{rock:"01010".split(""),scissors:"00110".split(""),paper:"10001".split(""),lizard:"00101".split(""),spock:"11000".split("")}}),s.constant("phrases",{rock:{scissors:"rule.vs.RS",lizard:"rule.vs.RL"},scissors:{paper:"rule.vs.SP",lizard:"rule.vs.SL"},paper:{rock:"rule.vs.PR",spock:"rule.vs.PS"},lizard:{paper:"rule.vs.LP",spock:"rule.vs.LS"},spock:{rock:"rule.vs.SR",scissors:"rule.vs.SS"}}),s.run(["$rootScope","rules","phrases",function(e,s,r){e.rules=s,e.phrases=r}])}(angular),function(e){e.module("rspls").controller("GameController",["$scope","$timeout","$translate",function(e,s,r){e.isPlaying=!1,e.timing=!1,e.choose=!1,e.counter={play:0,tie:0,win:0},e.play=function(){e.isPlaying=!0,e.timing=!0,e.choose=!1,delete e.playerWin,delete e.tie,delete e.choosedSign},e.chooseSign=function(a){e.counter.play++,e.timing=!1,e.isPlaying=!1,e.choose=!0;var i=e.rules;e.choosedSign=a,e.pcSign=parseInt(Math.random()*i.signs.length),e.pcSign===i.signs.indexOf(a)?(e.tie=!0,e.counter.tie++,e.winningPhrase=r.instant("tie",{sign:r.instant(a)})):(e.playerWin=parseInt(i.wins[a][e.pcSign]),e.playerWin?(e.counter.win++,e.winningPhrase=e.phrases[a][i.signs[e.pcSign]]):e.winningPhrase=e.phrases[i.signs[e.pcSign]][a]),s(function(){e.showMsg=!0,s(function(){e.showMsg=!1},1e3)},100)},e.btnClass=function(s){return s!=e.choosedSign?"btn-primary":e.tie?"btn-warning":e.playerWin?"btn-success":"btn-danger"}}])}(angular),function(e){e.module("rspls").controller("RulesController",["$scope",function(e){e.winMatch=function(s){var r=e.rules.wins[s];return function(e,s,a){return parseInt(r[s])}}}])}(angular),function(e){e.module("rspls").directive("nav",["$location",function(s){return{restrict:"A",link:function(r,a,i,n){r.$watch(function(){return s.path()},function(s,r){e.forEach(a.find("a"),function(e,r){var a=angular.element(e),i=a.parent(),n=a.attr("href").replace("#",""),o=new RegExp("^"+n+"$",["i"]);o.test(s)?i.addClass("active"):i.removeClass("active")})})}}}])}(angular),function(e){e.module("rspls").directive("signRotator",["$interval","$rootScope",function(e,s){return{restrict:"E",scope:{timeInterval:"=*interval"},template:"<i class=\"fa fa-fw fa-2x\" ng-class=\"'fa-hand-' + sign + '-o'\"></i>",link:function(r,a,i,n){var o=0,t=s.rules.signs,l=r.timeInterval||1e3;r.sign=t[o],e(function(){o=(o+1)%t.length,r.sign=t[o]},l)}}}])}(angular);